<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="XwhPCxJ23A4vdp_xBFDnsoJelhGwCPELOda48Hw_GLQ"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Converting standard markdown to kramdown markdown | Geowanderer | Jingtao Min Homepage</title> <meta name="author" content="Jingtao Min"> <meta name="description" content="Kramdown markdown seems to follow a different style from standard markdown. This leads to complications when publicating a standard markdown page quickly."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://gentlemin.github.io/notes/md_to_kramdown/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Geowanderer</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/notes/">Notes</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repos</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">More</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/publications/">Publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/teaching/">Teaching</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Converting standard markdown to kramdown markdown</h1> <p class="post-description">Kramdown markdown seems to follow a different style from standard markdown. This leads to complications when publicating a standard markdown page quickly.</p> </header> <article> <p>One of the many merits of Jekyll is that markdown documents can be easily handled and converted to html pages using <a href="https://kramdown.gettalong.org/" rel="external nofollow noopener" target="_blank">kramdown</a> parser. Kramdown markdown, however, seems to be slightly different in interpreting the contents, compared to the standard flavour of markdown. In particular, kramdown seems to have different delimiters for equation environment. Kramdown takes the double dollar sign “$$” as the inline equation delimiters, and double dollar sign with empty lines before or after as the display equation delimiters. This makes publishing a standard markdown page complicated, as the standard .md usually renders contents bracketed by single dollar sign as inline equation, and double dollar sign as display equation.</p> <p>In some scenarios, it is possible to disable math processing of kramdown, and leave it directly to MathJax or KaTeX to interpret and render the result. However, this no longer works perfectly when there is markdown escape characters in the equation environment. For instance, the underscore is a valid character in equations. If kramdown does not know it is equation and process it as plain markdown text, it will be interpreted into italics or other formatting marks. Eventually, the formatting html segments will also break the rendering of MathJax or KaTex.</p> <p>The only approach that worked for me is to manually converting the standard markdown into kramdown style. To this end I use the regular expression to capture the equation environments and replace the delimiters. The python code is as follows (see also the <a href="https://gist.github.com/GentleMin/39fe427d7f9f387c805e2432e4178b82" rel="external nofollow noopener" target="_blank">GitHub gist page</a>).</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">re</span>
<span class="kn">import</span> <span class="n">argparse</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">Convert standard markdown to kramdown-style markdown.</span><span class="sh">"</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">in_file</span><span class="sh">"</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="sh">'</span><span class="s">+</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">-t</span><span class="sh">"</span><span class="p">,</span> <span class="sh">'</span><span class="s">--yaml_template</span><span class="sh">'</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="sh">'</span><span class="s">+</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">-o</span><span class="sh">"</span><span class="p">,</span> <span class="sh">'</span><span class="s">--out_file</span><span class="sh">'</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="sh">'</span><span class="s">+</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>

<span class="n">inline_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">(?&lt;=[^\$])\$(?P&lt;formula&gt;[^\$]+?)\$(?=[^\$])</span><span class="sh">"</span><span class="p">)</span>
<span class="n">inline_pattern_bof</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">^\$(?P&lt;formula&gt;[^\$]+?)\$</span><span class="sh">"</span><span class="p">)</span>
<span class="n">inline_pattern_eof</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">\$(?P&lt;formula&gt;[^\$]+?)\$$</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">inline_replace</span><span class="p">(</span><span class="n">inline_obj</span><span class="p">):</span>
    <span class="n">str_repl</span> <span class="o">=</span> <span class="sh">"</span><span class="s">$$</span><span class="sh">"</span> <span class="o">+</span> <span class="n">inline_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">formula</span><span class="sh">"</span><span class="p">)</span> <span class="o">+</span> <span class="sh">"</span><span class="s">$$</span><span class="sh">"</span>
    <span class="k">return</span> <span class="n">str_repl</span>

<span class="n">display_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">(?P&lt;prefix&gt;.{1})\n\$\$(?P&lt;formula&gt;[^\$]+?)\$\$\n(?P&lt;suffix&gt;.{1})</span><span class="sh">"</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="n">DOTALL</span><span class="p">)</span>
<span class="n">display_pattern_bof</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">^\$\$(?P&lt;formula&gt;[^\$]+?)\$\$\n(?=[^\n])</span><span class="sh">"</span><span class="p">)</span>
<span class="n">display_pattern_eof</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">(?&lt;=[^\n])\n\$\$(?P&lt;formula&gt;[^\$]+?)\$\$$</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">display_replace</span><span class="p">(</span><span class="n">display_obj</span><span class="p">):</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">display_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">prefix</span><span class="sh">"</span><span class="p">)</span> <span class="k">if</span> <span class="n">display_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">prefix</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span> <span class="k">else</span> <span class="n">display_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">prefix</span><span class="sh">"</span><span class="p">)</span> <span class="o">+</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span>
    <span class="n">suffix</span> <span class="o">=</span> <span class="n">display_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">suffix</span><span class="sh">"</span><span class="p">)</span> <span class="k">if</span> <span class="n">display_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">suffix</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span> <span class="k">else</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span> <span class="o">+</span> <span class="n">display_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">suffix</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">str_repl</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="sh">"</span><span class="se">\n</span><span class="s">$$</span><span class="sh">"</span> <span class="o">+</span> <span class="n">display_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="sh">"</span><span class="s">formula</span><span class="sh">"</span><span class="p">)</span> <span class="o">+</span> <span class="sh">"</span><span class="s">$$</span><span class="se">\n</span><span class="sh">"</span> <span class="o">+</span> <span class="n">suffix</span>
    <span class="k">return</span> <span class="n">str_repl</span>

<span class="n">yaml_hdr_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">---.*?---</span><span class="sh">"</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="n">DOTALL</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_yaml_hdr</span><span class="p">(</span><span class="n">yaml_template</span><span class="p">):</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">yaml_template</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f_yaml</span><span class="p">:</span>
        <span class="n">doc_string</span> <span class="o">=</span> <span class="sh">''</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">f_yaml</span><span class="p">.</span><span class="nf">readlines</span><span class="p">())</span>
    <span class="n">match_obj</span> <span class="o">=</span> <span class="n">yaml_hdr_pattern</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="n">doc_string</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">match_obj</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="k">assert</span> <span class="nf">len</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">in_file</span><span class="p">)</span> <span class="o">==</span> <span class="nf">len</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">out_file</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">in_file</span><span class="p">)):</span>
        <span class="n">in_fname</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">in_file</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">out_fname</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">out_file</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">yaml_template</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">yaml_template</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">in_fname</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">doc_string</span> <span class="o">=</span> <span class="sh">''</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="nf">readlines</span><span class="p">())</span>
        
        <span class="n">doc_string</span> <span class="o">=</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span> <span class="o">+</span> <span class="n">doc_string</span> <span class="o">+</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span>
        
        <span class="n">doc_string</span> <span class="o">=</span> <span class="n">inline_pattern</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="n">inline_replace</span><span class="p">,</span> <span class="n">doc_string</span><span class="p">)</span>
        <span class="n">doc_string</span> <span class="o">=</span> <span class="n">display_pattern</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="n">display_replace</span><span class="p">,</span> <span class="n">doc_string</span><span class="p">)</span>
        <span class="n">doc_string</span> <span class="o">=</span> <span class="n">yaml_hdr_pattern</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">,</span> <span class="n">doc_string</span><span class="p">)</span>
        
        <span class="n">hdr</span> <span class="o">=</span> <span class="nf">get_yaml_hdr</span><span class="p">(</span><span class="n">yaml_template</span><span class="p">)</span>
        <span class="n">doc_string</span> <span class="o">=</span> <span class="n">hdr</span> <span class="o">+</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span> <span class="o">+</span> <span class="n">doc_string</span>
        
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">out_fname</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">doc_string</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
</code></pre></div></div> <p>The aforementioned code can be accessed directly via commandline. For instance, to convert <code class="language-plaintext highlighter-rouge">&lt;src-md-file&gt;</code> to <code class="language-plaintext highlighter-rouge">&lt;out-md-file&gt;</code>, using the yaml header block in <code class="language-plaintext highlighter-rouge">&lt;yaml-template&gt;</code>, one can invoke this script using the following command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python .<span class="se">\s</span>td2kramdown.py &lt;src-md-file&gt; <span class="nt">-t</span> &lt;yaml-template&gt; <span class="nt">-o</span> &lt;out-md-file&gt;
</code></pre></div></div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Jingtao Min. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. <a href="https://hits.sh/gentlemin.github.io_notes/md_to_kramdown.md" rel="external nofollow noopener" target="_blank"><img alt="Hits" src="https://hits.sh/gentlemin.github.io_notes/md_to_kramdown.md.svg?color=9277f0"></a> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script> <script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{})});</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>